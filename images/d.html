<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>



<script language=javascript>
<!--
<!-- This script and many more are available free online at -->
<!-- The JavaScript Source!! http://javascript.internet.com -->
<!-- Original Steven H. Gibbs  -->

function convert(inputValue) {
  var num = '', i = 0, n = 0;

  while (inputValue.charAt(0) == ' ') {inputValue = inputValue.substr(1)};
  if (inputValue.indexOf(' ') != -1) {inputValue = inputValue.substr(0, inputValue.indexOf(' '))}

  if (inputValue == '') {
    alert('No data was input');
	return '';
  }
  else {
    if (isNaN(inputValue)) {
      num = inputValue;
      if (num == num.toLowerCase()) {
        i = num.indexOf('u'); if (i != -1) {num = num.substr(0, i) + 'v' + num.substr(i + 1, num.length - i)};
        if (num.substr(num.length - 2, 2) == 'ij') {num = num.substr(0, num.length - 2) + 'ii'};
      }
	  n = evalRoman(num);
      if (n == -1) {
	    alert(inputValue + ' is not a valid input');
		msg = '';
	  }
      else {
	    msg = n;
	  }
      }
      else {
      n = Math.round(parseFloat(inputValue));
      if (n < 1 || n > 4999) {
	    alert('Input must be in the range of 1 to 4999');
		return '';
	  }
      else {
        if (n != parseFloat(inputValue)) {alert(inputValue + ' will be rounded to ' + n)};
        msg = converts(n);
      }
    }        
  }
  return msg;
}

function evalRoman(num) {
  var i = 0, h = 0, n, t = 0, u = 0;

  num = num.toUpperCase();
  while (num.charAt(i) == 'M') {i ++};
  n = i * 1000;

  if (num.substr(i, 2) == 'CM') {h = 9; i += 2}
    else if (num.substr(i, 1) == 'D') {h = 5; i ++}
      else if (num.substr(i, 2) == 'CD') {h = 4; i += 2};
  if (h == 0 || h == 5) {while (num.charAt(i) == 'C') {h ++; i ++}};
  n += h * 100;

  if (num.substr(i, 2) == 'XC') {t = 9; i += 2}
    else if (num.substr(i, 1) == 'L') {t = 5; i ++}
      else if (num.substr(i, 2) == 'XL') {t = 4; i += 2};
  if (t == 0 || t == 5) {while (num.charAt(i) == 'X') {t ++; i ++}};
  n += t * 10;

  if (num.substr(i, 2) == 'IX') {u = 9; i += 2}
    else if (num.substr(i, 1) == 'V') {u = 5; i ++}
      else if (num.substr(i, 2) == 'IV') {u = 4; i += 2};
  if (u == 0 || u == 5) {while (num.charAt(i) == 'I') {u ++; i ++}};
  n += u;

  if (!((num == convert1000s(n) + convert100s(n) + convert10s(n) + convert1s(n))
    || (num == convert1000s(n) + convert100s(n) + convert10s(n) + convert1a(n))
    || (num == convert1000s(n) + convert100s(n) + convert10a(n) + convert1s(n))
    || (num == convert1000s(n) + convert100s(n) + convert10a(n) + convert1a(n))
    || (num == convert1000s(n) + convert100a(n) + convert10s(n) + convert1s(n))
    || (num == convert1000s(n) + convert100a(n) + convert10s(n) + convert1a(n))
    || (num == convert1000s(n) + convert100a(n) + convert10a(n) + convert1s(n))
    || (num == convert1000s(n) + convert100a(n) + convert10a(n) + convert1a(n)))) {n = -1}

  return(n);
}

function converts(n) {
  return (convert1000s(n) + convert100s(n) + convert10s(n) + convert1s(n))
}

function convert1000s(n) {
  return ('MMMM'.substr(0, (Math.floor(n / 1000))));
}

function convert100s(h) {
  var m = '', h = Math.floor((h % 1000) / 100);
  if (h == 9) {m = 'CM'}
    else if (h > 4) {m = 'DCCC'.substr(0, h - 4)}
      else if (h == 4) {m = 'CD'}
        else {m = 'CCC'.substr(0, h)};
  return m;
}

function convert100a(h) {
  var m = '', h = Math.floor((h % 1000) / 100);
  if (h > 4) {m = 'DCCCC'.substr(0, h - 4)}
    else {m = 'CCCC'.substr(0, h)};
  return m;
}

function convert10s(t) {
  var m = '', t = Math.floor((t % 100) / 10);
  if (t == 9) {m = 'XC'}
    else if (t > 4) {m = 'LXXX'.substr(0, t - 4)}
      else if (t == 4) {m = 'XL'}
        else {m = 'XXX'.substr(0, t)};
  return m;
}

function convert10a(t) {
  var m = '', t = Math.floor((t % 100) / 10);
  if (t > 4) {m = 'LXXXX'.substr(0, t - 4)}
    else {m = 'XXXX'.substr(0, t)};
  return m;
}

function convert1s(u) {
  var m = '', u = u % 10;
  if (u == 9) {m = 'IX'}
    else if (u > 4) {m = 'VIII'.substr(0, u - 4)}
      else if (u == 4) {m = 'IV'}
        else {m = 'III'.substr(0, u)};     
  return m;
}

function convert1a(u) {
  var m = '', u = u % 10;
  if (u > 4) {m = 'VIIII'.substr(0, u - 4)}
    else {m = 'IIII'.substr(0, u)};     
  return m;
}
//-->
</script>




</head>
<body>

<center>
<form name="f" onsubmit="this.box.value = convert(this.box.value); this.box.focus(); return false">
  <input type="text" name="box" style="font-family: courier"><br>
  <input type="submit" value="Convert">
</form>
</center>










<form name="main">
<div align="center">
<script language="JavaScript">
<!--

	function Level(i, v, x)
		{
		this.i = i;
		this.v = v;
		this.x = x;
		}

	levels = new Array();
	levels[0] = new Level('I', 'V', 'X');
	levels[1] = new Level('X', 'L', 'C');
	levels[2] = new Level('C', 'D', 'M');

	function calcDigit(d, l)
		{
		if (l > 2)
			{
			str = '';
			for (var k = 1; k <= d * Math.pow(10, l - 3); k++)
				str += 'M';
			return str;
			}
		else
			switch (d)
				{
				case 1:
					return levels[l].i;
					break;
				case 2:
					return levels[l].i + levels[l].i;
					break;
				case 3:
					return levels[l].i + levels[l].i + levels[l].i;
					break;
				case 4:
					return levels[l].i + levels[l].v;
					break;
				case 5:
					return levels[l].v;
					break;
				case 6:
					return levels[l].v + levels[l].i;
					break;
				case 7:
					return levels[l].v + levels[l].i + levels[l].i;
					break;
				case 8:
					return levels[l].v + levels[l].i + levels[l].i + levels[l].i;
					break;
				case 9:
					return levels[l].i + levels[l].x;
					break;
				default:
					return '';
					break;
				}
		}

	function toRoman(n)
		{
		var r = '';
		for (var c = 0; c < n.length; c++)
			r += calcDigit(parseInt(n.charAt(c)), n.length - c - 1);
		return r;
		}

	val = new Array(255);

	val['I'.charCodeAt(0)] = 1;
	val['V'.charCodeAt(0)] = 5;
	val['X'.charCodeAt(0)] = 10;
	val['L'.charCodeAt(0)] = 50;
	val['C'.charCodeAt(0)] = 100;
	val['D'.charCodeAt(0)] = 500;
	val['M'.charCodeAt(0)] = 1000;

	function fromRoman(n)
		{
		n = n.toUpperCase();

		var result = 0;
		var lastDigit = 0;
		for(var pos = n.length - 1; pos >= 0; pos--)
			{
			var curDigit = val[n.charCodeAt(pos)];

			if (curDigit == NaN)
				return 'Invalid roman number!';

			if (curDigit >= lastDigit)
				result += curDigit;
			else
				result -= curDigit;

			lastDigit = curDigit;			
			}

		return result;
		}

	function isNumeric(s)
		{
		for (var pos = 0; pos < s.length; pos++)
			if (s.charAt(pos) < '0' || s.charAt(pos) > '9')
				return false;
		return true;
		}

	function get(f)
		{
		if (isNumeric(f.inp.value))
			f.out.value = toRoman(f.inp.value);
		else
			f.out.value = fromRoman(f.inp.value);
		}

// -->
</script>
	Enter an Arabic or Roman Number
	<input type="text" name="inp" size="30" class="ciT">
	Result
	<input type="text" name="out" size="30" class="ciT">
	<input type="button" value="Convert It!" onclick="get(document.main)" class="ciH2">
</div>
</form>

</body>
</html>